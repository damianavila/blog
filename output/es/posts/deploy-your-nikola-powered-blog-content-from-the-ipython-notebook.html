<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>Deploy your Nikola-powered blog content from the IPython notebook | El blog de Damian</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../rss.xml">
<link rel="canonical" href="http://damianavila.github.io/blog/es/posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="Damian Avila">
<meta property="og:site_name" content="El blog de Damian">
<meta property="og:title" content="Deploy your Nikola-powered blog content from the IPython notebook">
<meta property="og:url" content="http://damianavila.github.io/blog/es/posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html">
<meta property="og:description" content="Following the idea to release all the extensions I had working on in the last few weeks/months, today I will release an old but very useful IPython notebook extension for people blogging with Nikola: ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2013-12-27T20:35:57-03:00">
<meta property="article:tag" content="blog">
<meta property="article:tag" content="extension">
<meta property="article:tag" content="gh-pages">
<meta property="article:tag" content="git">
<meta property="article:tag" content="IPython">
<meta property="article:tag" content="javascript">
<meta property="article:tag" content="mIPyex">
<meta property="article:tag" content="python">
<meta property="article:tag" content="workflow">
<link rel="alternate" hreflang="en" href="../../posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html">
</head>
<body>
    <section class="social"><ul>
<li><a href="../index.html" title="Inicio"><i class="icon-home"></i></a></li>
            <li><a href="../archive.html" title="Archivos"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../categories/index.html" title="Etiquetas"><i class="icon-tags"></i></a></li>
            <li><a href="../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="../stories/about-me.html" title="Sobre mi..."><i class="icon-user"></i></a></li>
            <li><a href="../stories/support-me.html" title="Dame tu apoyo.."><i class="icon-usd"></i></a></li>
            <li><a href="https://twitter.com/damian_avila" title="Mi Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/damianavila" title="Mi Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">Deploy your Nikola-powered blog content from the IPython notebook</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2013-12-27T20:35:57-03:00">2013-12-27 20:35</time><a href="../../posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html" rel="alternate" hreflang="en">
                English</a>

                      |  
        <a href="deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.ipynb" id="sourcelink">Código fuente</a>
          |  
        <a href="javascript:%24.getScript(%22/assets/js/miniPageNav.js%22);">Minimap</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Etiquetas : 
           <li><a class="tag p-category" href="../categories/blog.html" rel="tag">blog</a></li>
           <li><a class="tag p-category" href="../categories/extension.html" rel="tag">extension</a></li>
           <li><a class="tag p-category" href="../categories/gh-pages.html" rel="tag">gh-pages</a></li>
           <li><a class="tag p-category" href="../categories/git.html" rel="tag">git</a></li>
           <li><a class="tag p-category" href="../categories/ipython.html" rel="tag">IPython</a></li>
           <li><a class="tag p-category" href="../categories/javascript.html" rel="tag">javascript</a></li>
           <li><a class="tag p-category" href="../categories/mipyex.html" rel="tag">mIPyex</a></li>
           <li><a class="tag p-category" href="../categories/python.html" rel="tag">python</a></li>
           <li><a class="tag p-category" href="../categories/workflow.html" rel="tag">workflow</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Following the idea to release all the extensions I had working on in the last few weeks/months, today I will release an old but very useful <strong>IPython</strong> notebook extension for people blogging with <strong>Nikola</strong>: the <em>nikola_deploy</em> extension.
<!-- TEASER_END --></p>
<p>Yes, I am always very original picking the names of the extensions ;-). A pic to illustrate the extension button at the toolbar:</p>
<p><img src="../galleries/deploy/1.png" alt=""></p>
<blockquote>
<p><strong>Note</strong>: Nikola supports the ipynb file as an input... and using the IPython.nbconvert machinery it is able to render the static HTML representation of your ipynbs inside the complete infrastructure of a powerful static site engine.</p>
</blockquote>
<p>First, to know some things about my blogging workflow using <strong>IPython</strong>, <strong>Nikola</strong>, <strong>git</strong> and <strong>gh-pages</strong>, I suggest you to re-read these previous posts:</p>
<ul>
<li><a href="bidirectional-ipython-nikola-workflow-to-write-your-blog-post.html">Bidirectional IPython-Nikola workflow to write your blog post</a></li>
<li><a href="one-line-deployment-of-your-site-to-gh-pages.html">One line deployment of your site to gh-pages</a></li>
</ul>
<p>OK, coming back to the extension, the idea behind this one is very simple: I will call the <code>nikola deploy</code> command from inside the <strong>IPython</strong> notebook using our beloved <code>IPython.notebook.kernel.execute</code> method, and also taking the advantage of <em>passing</em> commands to the underlying system just pre-pending with the <code>!</code> mark. The relevant lines are below:</p>
<div class="highlight"><pre><span></span><span class="mi">36</span>    <span class="k">if</span> <span class="p">(</span><span class="nx">clean</span><span class="o">==</span><span class="s2">"True"</span><span class="p">)</span> <span class="p">{</span>
<span class="mi">37</span>      <span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'!nikola clean'</span><span class="p">);</span>
<span class="mi">38</span>    <span class="p">}</span>
<span class="mi">39</span>    <span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'!nikola build'</span><span class="p">);</span>
<span class="mi">40</span>    <span class="nx">IPython</span><span class="p">.</span><span class="nx">notebook</span><span class="p">.</span><span class="nx">kernel</span><span class="p">.</span><span class="nx">execute</span><span class="p">(</span><span class="s1">'!nikola deploy'</span><span class="p">);</span>
</pre></div>
<p>After writing the content of my post following the workflow explained in previous posts, I just click on the <em>nikola_deploy</em> extension button and the site is <em>cleaned</em> (if you choose this option to True in the config file, please set it to False if you want a quick building), <em>built</em> and <em>deployed</em> <strong>automagically</strong> ;-)</p>
<p>And that's all... the complete code below:</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In [1]:</div>
<div class="inner_cell">
  <div class="input_area">
    <div class=" highlight hl-ipython3"><pre><span></span><span class="n">cat</span> <span class="o">-</span><span class="n">n</span> <span class="o">/</span><span class="n">media</span><span class="o">/</span><span class="n">datos</span><span class="o">/</span><span class="n">Desarrollos</span><span class="o">/</span><span class="n">mIPyex</span><span class="o">/</span><span class="n">custom</span><span class="o">/</span><span class="n">nikola_deploy</span><span class="o">/</span><span class="n">main</span><span class="o">.</span><span class="n">js</span>
</pre></div>

    <i class="icon-hand-up icon-large" style="float:right; margin-bottom:8px; margin-right:10px">
      Click me to hide the output</i>
  </div>
</div>
</div>

<div class="output_wrapper output_hidden">
  <div class="output">
    
<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>     1	/*
     2	* ----------------------------------------------------------------------------
     3	* Copyright (c) 2013 - Damián Avila
     4	*
     5	* Distributed under the terms of the Modified BSD License.
     6	*
     7	* A little extension to deploy a nikola site/blog from the IPython notebook.
     8	* -----------------------------------------------------------------------------
     9	*/
    10	
    11	function messager() {
    12	  var message = $('&lt;div/&gt;').append(
    13	                  $("&lt;p/&gt;&lt;/p&gt;").addClass('dialog').html(
    14	                    "Your ipynb-based site/blog post is being deployed now..."
    15	                    )
    16	                ).append(
    17	                  $("&lt;p/&gt;&lt;/p&gt;").addClass('dialog').html(
    18	                    "We clean (configurable), build and deploy your Nikola " +
    19	                    "site/blog for you!"
    20	                    )
    21	                );
    22	
    23	  IPython.dialog.modal({
    24	    title : "Nikola deployment",
    25	    body : message,
    26	    buttons : {
    27	        OK : {class: "btn-danger"}
    28	    }
    29	  });
    30	
    31	}
    32	
    33	function nikolaDeploy(path, clean) {
    34	  IPython.notebook.kernel.execute('%bookmark root');
    35	  IPython.notebook.kernel.execute('%cd ' + path);
    36	  if (clean=="True") {
    37	    IPython.notebook.kernel.execute('!nikola clean');
    38	  }
    39	  IPython.notebook.kernel.execute('!nikola build');
    40	  IPython.notebook.kernel.execute('!nikola deploy');
    41	  IPython.notebook.kernel.execute('%cd -b root');
    42	  messager();
    43	}
    44	
    45	define(function() {
    46	  return {
    47	    parameters: function setup(param1, param2) {
    48	      IPython.toolbar.add_buttons_group([
    49	        {
    50	        'label'   : 'Deploy Nikola site/blog',
    51	        'icon'    : 'icon-upload-alt',
    52	        'callback': function(){nikolaDeploy(param1, param2)},
    53	        'id'      : 'start_nikola_deploy'
    54	        },
    55	      ])
    56	    }
    57	  }
    58	});
</pre>
</div>
</div>

</div>
</div>

  </div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Again, the extension lives in this new repo: <a href="https://github.com/damianavila/mIPyex">mIPyex</a>, where I will upload the development versions of my own extensions. When I get them enough stable, I will make a copy of them in the <a href="https://github.com/ipython-contrib/IPython-notebook-extensions">IPython notebook extensions</a> repo where you can get a lot of and useful interesting extensions.</p>
<p>OK, as you can see... it is very simple to blog with <strong>IPython</strong> and <strong>Nikola</strong>, so I invite you to try it <em>now</em> and let me know any ideas, comments or critics.</p>
<p>Enjoy!</p>
<p>Damián</p>

</div>
</div>
</div>
</div>
        </div>
        <p>Did you like the content? Great!</p>
        <script type="text/javascript" src="https://ko-fi.com/widgets/widget_2.js"></script><script type="text/javascript">kofiwidget2.init('Support Me on Ko-fi', '#2e2e2e', 'F1F41HSJ8');kofiwidget2.draw();</script><p>Or visit my <a href="https://damianavila.github.io/blog/stories/support-me.html">support</a> page for more information.</p>
        <br><p>Btw, don't forget this blog post is an ipynb file itself! So, you can download it from the "Source" link
        at the top of the post if you want to play with it ;-)</p>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="a-poor-man-spell-checker-for-the-ipython-notebook.html" rel="prev" title="A 'poor man' spell checker for the IPython notebook">Publicación anterior</a>
            </li>
            <li class="next">
                <a href="my-ipython-powered-semi-automatic-git-workflow.html" rel="next" title="My IPython-powered semi-automatic git workflow">Siguiente publicación</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="damianblogcomments",
            disqus_url="http://damianavila.github.io/blog/es/posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html",
        disqus_title="Deploy your Nikola-powered blog content from the IPython notebook",
        disqus_identifier="cache/posts/deploy-your-nikola-powered-blog-content-from-the-ipython-notebook.html",
        disqus_config = function () {
            this.language = "es_ES";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


                            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script>
</div>
                    <footer id="footer"><p>Contents © 2021 <a href="mailto:damianavila82@yahoo.com.ar">Damian Avila</a> - 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Zen theme based in <a href="https://github.com/arusahni/website-template">Arusahni's website-template</a><br><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a></p>
            
        </footer>
</div>
    </section><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-139225553-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139225553-1');
</script><script src="../../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
