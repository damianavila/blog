<!DOCTYPE html>
<html prefix="
og: http://ogp.me/ns#
article: http://ogp.me/ns/article#
" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>One line deployment of your site to gh-pages | Damian's blog</title>
<link href="../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (es)" href="../es/rss.xml">
<link rel="canonical" href="http://damianavila.github.io/blog/posts/one-line-deployment-of-your-site-to-gh-pages.html">
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script><!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]--><meta name="author" content="Damian Avila">
<meta property="og:site_name" content="Damian's blog">
<meta property="og:title" content="One line deployment of your site to gh-pages">
<meta property="og:url" content="http://damianavila.github.io/blog/posts/one-line-deployment-of-your-site-to-gh-pages.html">
<meta property="og:description" content="Do you want to easily deploy your site to Github pages?
OK, here we go...

You have to upload your complete blog/site to a new Github repository (you know how to do it... if not, probably you need to ">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2013-08-21T08:17:00-03:00">
<meta property="article:tag" content="blog">
<meta property="article:tag" content="gh-pages">
<meta property="article:tag" content="git">
<meta property="article:tag" content="nikola">
<meta property="article:tag" content="python">
<link rel="alternate" hreflang="es" href="../es/posts/one-line-deployment-of-your-site-to-gh-pages.html">
</head>
<body>
    <section class="social"><ul>
<li><a href="../index.html" title="Home"><i class="icon-home"></i></a></li>
            <li><a href="../archive.html" title="Archives"><i class="icon-folder-open-alt"></i></a></li>
            <li><a href="../categories/index.html" title="Tags"><i class="icon-tags"></i></a></li>
            <li><a href="../rss.xml" title="RSS"><i class="icon-rss"></i></a></li>
            <li><a href="../stories/about-me.html" title="About me"><i class="icon-user"></i></a></li>
            <li><a href="../stories/support-me.html" title="Support me"><i class="icon-usd"></i></a></li>
            <li><a href="https://twitter.com/damian_avila" title="My Twitter"><i class="icon-twitter"></i></a></li>
            <li><a href="https://github.com/damianavila" title="My Github"><i class="icon-github"></i></a></li>

        </ul></section><section class="page-content"><div class="content" rel="main">
    <div class="post">
        <h1 class="p-name entry-title" itemprop="headline name">One line deployment of your site to gh-pages</h1>

        <div class="meta">
            <div class="authordate">
                <time class="timeago" datetime="2013-08-21T08:17:00-03:00">2013-08-21 08:17</time>
            
                      |  
        <a href="one-line-deployment-of-your-site-to-gh-pages.ipynb" id="sourcelink">Source</a>
          |  
        <a href="javascript:%24.getScript(%22/assets/js/miniPageNav.js%22);">Minimap</a>

            </div>
                    <div itemprop="keywords" class="tags">
        <ul>
        Tags : 
           <li><a class="tag p-category" href="../categories/blog.html" rel="tag">blog</a></li>
           <li><a class="tag p-category" href="../categories/gh-pages.html" rel="tag">gh-pages</a></li>
           <li><a class="tag p-category" href="../categories/git.html" rel="tag">git</a></li>
           <li><a class="tag p-category" href="../categories/nikola.html" rel="tag">nikola</a></li>
           <li><a class="tag p-category" href="../categories/python.html" rel="tag">python</a></li>
        </ul>
</div>

        </div>
        <div class="body">
            <div class="cell border-box-sizing text_cell rendered">
<div class="prompt input_prompt">
</div>
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Do you want to <strong>easily</strong> deploy your site to Github pages?</p>
<p>OK, here we go...</p>
<ol>
<li>
<p>You have to upload your complete blog/site to a new Github repository (you know how to do it... if not, probably you need to learn some things before try this one, hehe). As a plus, now your blog/site is version-controlled!</p>
</li>
<li>
<p>Almost for sure, your site/blog lives in the master branch of the new repository, but you need to generated a <code>gh-pages</code> branch to push your <code>build</code> or <code>output</code> folder, I mean your site/blog content to deploy... not all the machinery of your site/blog platform (<strong>Nikola</strong> in my case):</p>
<!-- TEASER_END -->

<ul>
<li><code>git checkout -b gh-pages</code></li>
<li><code>git rm -rf .</code></li>
<li><code>git commit -am "First commit to gh-pages branch"</code></li>
<li><code>git push origin gh-pages</code></li>
</ul>
</li>
<li>
<p>Now, we will use a <strong>git-subtree</strong> technique to push the <code>build</code> or <code>output</code> content to the <code>gh-pages</code> branch:</p>
<ul>
<li><code>git checkout master</code></li>
<li>
<p><code>git push origin `git subtree split --prefix output gh-pages`:gh-pages --force</code></p>
<p><strong>Sweet</strong> line... uhh ;-)</p>
</li>
</ul>
</li>
<li>
<p>Finally, you will need to run the following line every time you want to update your site/blog!</p>
<ul>
<li><code>git subtree push --prefix output origin gh-pages</code></li>
</ul>
</li>
</ol>
<p><strong>Note</strong>: Are you getting <code>git</code> errors? Just use the <strong>sweet</strong> line again and <em>force</em> the update...</p>
<p>If you are using <strong>Nikola</strong>, you can add some of this lines to the <code>DEPLOY_COMMANDS</code> in your conf.py file and just run <code>nikola deploy</code> after building your site/blog.</p>
<p>More easier... impossible... ;-)</p>
<p>Damián.</p>
<p><strong>UPDATE</strong>: Not enough happy with step 3 and 4 (essentially because of some <code>git</code> errors), I figured out a cleaner solution:</p>
<p>New 3. Now, we will use a <strong>git-subtree</strong> technique to push the <code>build</code> or <code>output</code> content to the <code>gh-pages</code> branch. You will need to run the following lines every time you want to update your site/blog!</p>
<ul>
<li>
<code>git checkout master</code> # you can avoid this line if you are in master...</li>
<li>
<code>git subtree split --prefix output -b gh-pages</code> # create a local gh-pages branch containing the splitted output folder</li>
<li>
<code>git push -f origin gh-pages:gh-pages</code> # force the push of the gh-pages branch to the remote gh-pages branch at origin</li>
<li>
<code>git branch -D gh-pages</code> #  delete the local gh-pages because you will need it: <a href="https://github.com/git/git/blob/master/contrib/subtree/git-subtree.txt#L203">ref</a>
</li>
</ul>
</div>
</div>
</div>
        </div>
        <p>Did you like the content? Great!</p>
        <script type="text/javascript" src="https://ko-fi.com/widgets/widget_2.js"></script><script type="text/javascript">kofiwidget2.init('Support Me on Ko-fi', '#2e2e2e', 'F1F41HSJ8');kofiwidget2.draw();</script><p>Or visit my <a href="https://damianavila.github.io/blog/stories/support-me.html">support</a> page for more information.</p>
        <br><p>Btw, don't forget this blog post is an ipynb file itself! So, you can download it from the "Source" link
        at the top of the post if you want to play with it ;-)</p>
                <ul class="pager hidden-print">
<li class="previous">
                <a href="ipython-plugin-for-nikola-updated.html" rel="prev" title="IPython plugin for Nikola updated">Previous post</a>
            </li>
            <li class="next">
                <a href="make-your-slides-with-ipython.html" rel="next" title="Make your slides with IPython">Next post</a>
            </li>
        </ul>
<div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="damianblogcomments",
            disqus_url="http://damianavila.github.io/blog/posts/one-line-deployment-of-your-site-to-gh-pages.html",
        disqus_title="One line deployment of your site to gh-pages",
        disqus_identifier="cache/posts/one-line-deployment-of-your-site-to-gh-pages.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


                            <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML" integrity="sha256-SDRP1VVYu+tgAGKhddBSl5+ezofHKZeI+OzxakbIe/Y=" crossorigin="anonymous"></script><script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    },
    displayAlign: 'left', // Change this to 'center' to center equations.
    "HTML-CSS": {
        styles: {'.MathJax_Display': {"margin": 0}}
    }
});
</script>
</div>
                    <footer id="footer"><p>Contents © 2020 <a href="mailto:damianavila82@yahoo.com.ar">Damian Avila</a> - 
Powered by <a href="http://getnikola.com">Nikola</a> - 
Zen theme based in <a href="https://github.com/arusahni/website-template">Arusahni's website-template</a><br><a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/2.5/ar/">
<img alt="Creative Commons License BY-NC-SA" style="border-width:0; margin-bottom:12px;" src="https://i.creativecommons.org/l/by-nc-sa/2.5/ar/88x31.png"></a></p>
            
        </footer>
</div>
    </section><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-139225553-1"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-139225553-1');
</script><script src="../assets/js/all-nocdn.js" type="text/javascript"></script><script type="text/javascript">
            $(function(){
                $('.timeago').timeago();
            });
        </script>
</body>
</html>
